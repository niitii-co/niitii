{% extends "base.html" %}
{% import "auth/auth_macros.html" as macros %}

{% block content %}
    <div class="row justify-content-center align-items-center mt-2">
    <div class="col-sm-12 col-md-10 col-lg-8 col-xl-6 col-xxl-6">
        <h3>{{ _('Register') }}</h3>
            {{ macros.register(start_time) }}
        <span id="validate" hidden>{{ _('Passwords must match') }}</span>
    </div>
    </div>

    <script type="text/javascript">
        document.addEventListener('submit', (event) => {
            let form = event.target;
            try {
                if (form.password.value !== form.password2.value) {
                    event.preventDefault();            
                    form.password2.setCustomValidity(`${document.getElementById('validate').innerHTML}`);
                }
            }
            catch (error) {
                console.error(error);
            }
       });
    </script>
{% endblock %}
